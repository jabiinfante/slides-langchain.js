---
layout: default
---

# Ejemplo: Limitando Historial

<div class="text-sm mt-6">

```typescript
import { ChatOpenAI } from "@langchain/openai";
import { HumanMessage, AIMessage } from "@langchain/core/messages";

const model = new ChatOpenAI({ model: "gpt-4o-mini" });

// Simular un historial largo
const fullHistory = [
  new HumanMessage("Mensaje 1"),
  new AIMessage("Respuesta 1"),
  new HumanMessage("Mensaje 2"),
  new AIMessage("Respuesta 2"),
  new HumanMessage("Mensaje 3"),
  new AIMessage("Respuesta 3"),
];

// Mantener solo los Ãºltimos 4 mensajes (2 turnos)
const recentHistory = fullHistory.slice(-4);

const response = await model.invoke([
  ...recentHistory,
  new HumanMessage("Nueva pregunta")
]);
```

</div>
