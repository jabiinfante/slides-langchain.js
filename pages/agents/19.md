---
layout: default
---

# Ejemplo: Middleware de Logging

<div class="text-xs mt-4">

```typescript
import { createAgent, createMiddleware } from "langchain";

const loggingMiddleware = createMiddleware({
  name: "LoggingMiddleware",
  beforeModel: (state) => {
    console.log(`ðŸ”µ Llamando modelo con ${state.messages.length} mensajes`);
    return;
  },
  afterModel: (state) => {
    const lastMsg = state.messages[state.messages.length - 1];
    console.log(`ðŸŸ¢ Modelo respondiÃ³: ${lastMsg.content?.slice(0, 50)}...`);
    return;
  },
});

const agent = createAgent({
  model: "openai:gpt-4o-mini",
  tools: [weatherTool],
  middleware: [loggingMiddleware],
});
```

</div>
